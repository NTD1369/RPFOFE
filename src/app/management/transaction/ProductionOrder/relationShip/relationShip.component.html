
<div class="center-wrap">
 
  <div class="maintenance-card" style="margin: auto;    width: 100%;">
    <!--[scrollByContent]="scrollByContent" [scrollByThumb]="scrollByThumb" [showScrollbar]="scrollbarMode" [bounceEnabled]="pullDown"   -->
    <dx-scroll-view #scrollView id="scrollview" reachBottomText="Updating...">
    <tabset  style="font-size: 15pt; font-weight: bold ;">
         <!-- <div class="search-wrap">
          <label for="item-searchbar" class="section-title"> {{'Transfer Shipment' | translate}}</label>
      </div> -->
      <tab [heading]="'Good issue' | translate" id="tab1">
        <!-- <app-policy (succFlag)="policySuccesss($event)"></app-policy> -->
        <div class="table-wrap mt-2 pt-2" *ngIf="this.goodIssueList?.length > 0">
          <dx-data-grid  [columnAutoWidth]="true" id="gridContainer" [dataSource]="this.goodIssueList" [showRowLines]="true" [allowColumnResizing]="true" [showRowLines]="true" [showBorders]="true" [columnAutoWidth]="true" [style]="{'max-height':'calc(100vh - 20vh)','overflow':'auto'}">
              <dxo-header-filter [visible]="true" [allowSearch]="true"></dxo-header-filter>
              <dxo-search-panel [visible]="true" [width]="540" placeholder="Search..." location="before">
              </dxo-search-panel>
              <dxo-scrolling mode="virtual"></dxo-scrolling>
              <dxi-column dataField="invtid" caption="{{'Goods Receipt No' | translate}}" dataType="string">
              </dxi-column>
              <dxi-column dataField="storeId" caption="{{'Store ID' | translate}}" [calculateCellValue]="storeNameColumn_calculateCellValue" dataType="string">
              </dxi-column>
              
              <dxi-column dataField="totalReceipt" caption="{{'Total Quantity' | translate}}" dataType="number" [format]="this.authService.numberFormat('quantity')">
              </dxi-column>
              <!-- <dxi-column dataField="totalPayable" caption="{{'Total Amount' | translate}}" dataType="number" [format]="this.authService.numberFormat('amount')">
              </dxi-column> -->
              <dxi-column dataField="createdBy" caption="{{'Created By' | translate}}" dataType="string"> </dxi-column>
              <dxi-column alignment="center" dataField="createdOn" caption="{{'Created On' | translate}}" dataType="date" [format]="this.authService.loadFormat().dateFormat + ' HH:mm:ss'"></dxi-column>
              <!-- <dxi-column dataField="isCanceled" caption="{{'Canceled' | translate}}"></dxi-column> -->
              <dxi-column dataField="remark" caption="{{'Remark' | translate}}" dataType="string"> </dxi-column>
              <!-- <dxi-column alignment="center" dataField="status" cellTemplate="statusTemplate" caption="{{'Status' | translate}}"></dxi-column> -->
              <div *dxTemplate="let cell of 'statusTemplate'">
                  <div [innerHtml]="cell.data.status | statusFormat"></div>
              </div>
              <dxi-column cellTemplate="cellTemplate"></dxi-column>
              <div *dxTemplate="let cell of 'cellTemplate'">
                  <dx-button icon="fas fa-eye" text="{{'View' | translate}}" class="mr-2" (onClick)="viewGoodIssue(cell.data)"></dx-button>
                  
              </div>

          </dx-data-grid>
      </div>
      <div *ngIf="this.goodIssueList?.length === 0 || this.goodIssueList == null || this.goodIssueList == undefined" >
        <div class="lds-facebook"><div></div><div></div><div></div></div>

       </div>
    </tab>
    <tab [heading]="'Good receipt' | translate" id ='tab2'>
      <!-- <div class="search-wrap mt-2">
        <label for="item-searchbar" class="section-title"> {{'Transfer Receipt' | translate}}</label>
    </div> -->
    <div class="table-wrap  mt-2 pt-2" *ngIf="this.goodReceiptList?.length > 0">
        <dx-data-grid [columnAutoWidth]="true" [style]="{'max-height':'calc(100vh - 20vh)','overflow':'auto'}" id="gridContainer" [dataSource]="this.goodReceiptList" [allowColumnResizing]="true" [showRowLines]="true" [showBorders]="true"
            [columnAutoWidth]="true" [showBorders]="true">
            <dxo-header-filter [visible]="true" [allowSearch]="true"></dxo-header-filter>
            <dxo-search-panel [visible]="true" [width]="540" placeholder="{{'Search' | translate}}..." location="before"></dxo-search-panel>
            <dxo-scrolling mode="virtual"></dxo-scrolling>
            <dxi-column dataField="invtid" caption="{{'Goods Issue No' | translate}}" dataType="string">
            </dxi-column>
            <dxi-column dataField="storeId" caption="{{'Store' | translate}}" [calculateCellValue]="storeNameColumn_calculateCellValue" dataType="string">
            </dxi-column>
            <dxi-column dataField="totalReceipt" caption="{{'Total Quantity' | translate}}" dataType="number" [format]="this.authService.numberFormat('quantity')">
            </dxi-column>
          
            <dxi-column dataField="createdBy" caption="{{'Created By' | translate}}" dataType="string"> </dxi-column>
            <dxi-column alignment="center" dataField="createdOn" caption="{{'Created On' | translate}}" dataType="date" [format]="this.authService.loadFormat().dateFormat + ' HH:mm:ss'">
            </dxi-column>
            <!-- <dxi-column dataField="isCanceled" caption="{{'Canceled' | translate}}"> </dxi-column> -->
            <dxi-column dataField="remark" caption="{{'Remark' | translate}}" dataType="string"> </dxi-column>
            <!-- <dxi-column alignment="center" dataField="status" cellTemplate="statusTemplate" caption="{{'Status' | translate}}"></dxi-column> -->

            <dxi-column cellTemplate="cellTemplate"></dxi-column>
            <div *dxTemplate="let cell of 'cellTemplate'">
                <dx-button icon="fas fa-eye" text="{{'View' | translate}}"  (onClick)="viewGoodReceipt(cell.data)" class="mr-2" ></dx-button>
               
            </div>
            <div *dxTemplate="let cell of 'statusTemplate'">
                <div [innerHtml]="cell.data.status | statusFormat"></div>
            </div>
        </dx-data-grid>
    </div>
   
    <div *ngIf="this.goodReceiptList?.length === 0 || this.goodReceiptList == null || this.goodReceiptList == undefined" >
      <div class="lds-facebook"><div></div><div></div><div></div></div>
     </div>
  <!-- <dxi-item itemType="group" caption="Contact Information"> -->   
       </tab>
      </tabset>
    </dx-scroll-view>
    </div>

</div>